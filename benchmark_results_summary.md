# Atio 쓰기 속도 벤치마크 결과

## 📊 전체 성능 비교 요약

### CSV 포맷 성능 비교 (초 단위)

| 방법 | 10K 행 | 100K 행 | 1M 행 | 상대 성능 |
|------|---------|---------|-------|-----------|
| **Polars CSV** | **0.0033s** | **0.0142s** | **0.1208s** | **1.00x** |
| NumPy CSV | 0.0534s | 0.5292s | 5.7478s | 0.02x |
| Pandas CSV | 0.0620s | 0.5685s | 5.7062s | 0.02x |
| **Atio CSV** | 0.0813s | 0.5761s | 6.0082s | 0.02x |
| Atio Snapshot CSV | 0.1237s | 1.1603s | 12.6796s | 0.01x |

### Parquet 포맷 성능 비교 (초 단위)

| 방법 | 10K 행 | 100K 행 | 1M 행 | 상대 성능 |
|------|---------|---------|-------|-----------|
| **Polars Parquet** | **0.0025s** | **0.0145s** | **0.1370s** | **1.00x** |
| Atio Parquet | 0.0121s | 0.0735s | 0.3162s | 0.43x |
| Pandas Parquet | 0.0109s | 0.0725s | 0.3208s | 0.43x |
| NumPy Parquet | 0.2830s | 0.0681s | 0.2968s | 0.46x |
| Atio Snapshot Parquet | 0.0293s | 0.1354s | 0.5657s | 0.24x |

## 🎯 주요 발견사항

### 1. **전체적인 성능 순위**
- **1위**: Polars (모든 포맷에서 가장 빠름)
- **2위**: Pandas (Parquet에서 Atio와 비슷한 성능)
- **3위**: Atio (원자적 쓰기 오버헤드 있음)
- **4위**: NumPy (CSV에서 느림, Parquet은 중간)
- **5위**: Atio Snapshot (버전 관리 기능으로 인한 추가 오버헤드)

### 2. **포맷별 성능 차이**
- **Parquet**: 모든 라이브러리에서 CSV보다 빠름
- **CSV**: Polars가 압도적으로 빠름, NumPy/Pandas는 느림

### 3. **데이터 크기별 성능 변화**
- **작은 데이터 (10K 행)**: 모든 방법이 빠름
- **중간 데이터 (100K 행)**: 성능 차이가 명확해짐
- **큰 데이터 (1M 행)**: Polars의 우수성이 두드러짐

### 4. **Atio의 오버헤드 분석**
- **Atio write**: 기본 라이브러리 대비 약 1.1-1.2배 느림
- **Atio Snapshot**: 기본 라이브러리 대비 약 2-10배 느림
  - CSV: 2-10배 느림
  - Parquet: 2-4배 느림

## 💡 권장사항

### **성능이 중요한 경우**
1. **Polars 사용**: 모든 포맷에서 가장 빠름
2. **Parquet 포맷 선택**: CSV보다 2-10배 빠름
3. **Atio 사용 시**: `write()` 함수 사용 (Snapshot 대신)

### **데이터 안전성이 중요한 경우**
1. **Atio write()**: 원자적 쓰기 + 적당한 성능
2. **Atio Snapshot**: 버전 관리 + 원자적 쓰기 (성능 희생)

### **데이터 크기별 최적화**
- **< 100K 행**: 모든 방법 사용 가능
- **100K - 1M 행**: Polars + Parquet 권장
- **> 1M 행**: Polars + Parquet 필수, Atio는 성능 고려 필요

## 🔍 기술적 분석

### **Atio 오버헤드 원인**
1. **임시 파일 생성**: 원자적 쓰기를 위한 임시 디렉토리
2. **파일 교체**: `os.rename()` 또는 `os.replace()` 연산
3. **성공 플래그**: `_SUCCESS` 파일 생성
4. **Snapshot 추가 기능**: 메타데이터, 매니페스트, 버전 관리

### **성능 최적화 가능성**
- **Parquet 압축**: 더 빠른 쓰기 가능
- **배치 처리**: 대용량 데이터를 청크 단위로 처리
- **비동기 처리**: I/O 대기 시간 최소화

---

*벤치마크 환경: Windows 10, Python 3.13, SSD 저장장치*
*테스트 데이터: 랜덤 실수값 (10-1,000,000 행 × 10 열)*
